{{> header page_name="Persons" persons_active=true}}

<div class="container-fluid mt-3">
    <div class="row">
        <div class="col-12 d-flex align-content-center mb-4">
            <div class="col-12 d-flex align-content-center">
                <h1 class="d-inline">Persons</h1><a href="/persons/create" class="btn d-flex align-content-center btn-outline-success align-self-center ms-2" style="flex-wrap: wrap; height: 80%;">+</a>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-lg-6" id="persons_list_panel">
            <div id="persons_list_panel_inner" class="inner-panel">
                <div class="row" id="persons_list_thead">
                    <div class="col-6 col-lg-3">Firstname</div>
                    <div class="col-6 col-lg-3">Lastname</div>
                    <div class="col-1 d-none d-lg-block">ORCID</div>
                    <div class="col-1 d-none d-lg-block">GND</div>
                    <div class="col-1 d-none d-lg-block">ROR</div>
                </div>
                {{#each persons}}
                    <div class="row persons_list_row" data-person-id="{{id}}">
                        <div class="col-6 col-lg-3">{{first_names}}</div>
                        <div class="col-6 col-lg-3">{{last_names}}</div>
                        <div class="col-1 d-none d-lg-block">{{#if orcid}}✓{{/if}}</div>
                        <div class="col-1 d-none d-lg-block">{{#if gnd}}✓{{/if}}</div>
                        <div class="col-1 d-none d-lg-block">{{#if ror}}✓{{/if}}</div>
                    </div>
                {{/each}}
            </div>
            <div>
                <select class="form-select mt-2" onchange="if (this.value) window.location.href=this.value" style="float: left;width: auto;">
                    <option disabled selected>Einträge pro Seite</option>
                    <option value="/persons?offset=0&limit=10">10</option>
                    <option value="/persons?offset=0&limit=20">20</option>
                    <option value="/persons?offset=0&limit=50">50</option>
                    <option value="/persons?offset=0&limit=100">100</option>
                </select>
                <nav aria-label="Page navigation example">
                    <ul class="pagination mt-2" style="float: right">
                        <li class="page-item {{#unless previous_offset includeZero=true}}disabled{{/unless}}">
                            <a class="page-link" href="/persons?offset={{previous_offset}}" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li class="page-item">
                            <a class="page-link {{#unless next_offset includeZero=true}}disabled{{/unless}}" href="/persons?offset={{next_offset}}" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="col-12 col-lg-6">
            <div id="persons_view_panel_inner" class="inner-panel">
            </div>
        </div>
    </div>
</div>
<script src="/js/handlebars-v4.7.8.js" type="text/javascript"></script>
<script src="/js/precompiled_templates.js"></script>
<script src="/js/persons.js"></script>
</body>
</html>